/* @ecl/ec-preset-website - 2.17.3 Built on 2019-11-29T08:10:38.244Z */
var ECL=function(e){"use strict";function o(e,t){return void 0===t&&(t=document),[].slice.call(t.querySelectorAll(e))}function c(e,t){return void 0===t&&(t=document),t.querySelector(e)}var t=function(){function l(e,t){var i=void 0===t?{}:t,n=i.toggleSelector,l=void 0===n?"[data-ecl-accordion2-toggle]":n,s=i.iconSelector,a=void 0===s?"[data-ecl-accordion2-icon]":s,o=i.attachClickListener,r=void 0===o||o;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.toggleSelector=l,this.iconSelector=a,this.attachClickListener=r,this.toggles=null,this.forceClose=!1,this.target=null,this.label=null,this.handleClickOnToggle=this.handleClickOnToggle.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).ACCORDION2,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLAccordion2=n};var e=l.prototype;return e.init=function(){var t=this;this.toggles=o(this.toggleSelector,this.element),this.label=c(this.labelSelector,this.element),this.attachClickListener&&this.toggles&&this.toggles.forEach(function(e){e.addEventListener("click",t.handleClickOnToggle.bind(t,e))})},e.destroy=function(){var t=this;this.attachClickListener&&this.toggles&&this.toggles.forEach(function(e){e.removeEventListener("click",t.handleClickOnToggle)})},e.handleClickOnToggle=function(e){var t=c("#"+e.getAttribute("aria-controls"),this.element);if(!t)throw new TypeError("Target has to be provided for accordion (aria-controls)");var i=!0===this.forceClose||"true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",i?"false":"true"),t.hidden=i;var n=c(this.iconSelector,e);if(n){var l=c("use",n);if(l){var s=l.getAttribute("xlink:href"),a="";a=i?s.replace("ui--minus","ui--plus"):s.replace("ui--plus","ui--minus"),l.setAttribute("xlink:href",a)}}return this},l}(),i=function(){function l(e,t){var i=void 0===t?{}:t,n=i.ellipsisButtonSelector,l=void 0===n?"[data-ecl-breadcrumb-ellipsis-button]":n,s=i.ellipsisSelector,a=void 0===s?"[data-ecl-breadcrumb-ellipsis]":s,o=i.segmentSelector,r=void 0===o?"[data-ecl-breadcrumb-item]":o,c=i.expandableItemsSelector,h=void 0===c?'[data-ecl-breadcrumb-item="expandable"]':c,d=i.staticItemsSelector,u=void 0===d?'[data-ecl-breadcrumb-item="static"]':d,g=i.onPartialExpand,v=void 0===g?null:g,f=i.onFullExpand,p=void 0===f?null:f,m=i.attachClickListener,y=void 0===m||m;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.ellipsisButtonSelector=l,this.ellipsisSelector=a,this.segmentSelector=r,this.expandableItemsSelector=h,this.staticItemsSelector=u,this.onPartialExpand=v,this.onFullExpand=p,this.attachClickListener=y,this.ellipsisButton=null,this.itemsElements=null,this.staticElements=null,this.expandableElements=null,this.handleClickOnEllipsis=this.handleClickOnEllipsis.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).BREADCRUMB,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLBreadcrumb=n};var e=l.prototype;return e.init=function(){this.ellipsisButton=c(this.ellipsisButtonSelector,this.element),this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.addEventListener("click",this.handleClickOnEllipsis),this.itemsElements=o(this.segmentSelector,this.element),this.staticElements=o(this.staticItemsSelector,this.element),this.expandableElements=o(this.expandableItemsSelector,this.element),this.check()},e.destroy=function(){this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.removeEventListener("click",this.handleClickOnEllipsis)},e.handleClickOnEllipsis=function(){return this.handleFullExpand()},e.check=function(){var e=this.computeVisibilityMap();e&&(!0===e.expanded?this.handleFullExpand():this.handlePartialExpand(e))},e.hideEllipsis=function(){var e=c(this.ellipsisSelector,this.element);e&&e.setAttribute("aria-hidden","true"),this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.removeEventListener("click",this.handleClickOnEllipsis)},e.showAllItems=function(){this.expandableElements.forEach(function(e){return e.setAttribute("aria-hidden","false")})},e.handlePartialExpand=function(e){if(e){var i=e.isItemVisible;i&&Array.isArray(i)&&(this.onPartialExpand?this.onPartialExpand(i):this.expandableElements.forEach(function(e,t){e.setAttribute("aria-hidden",i[t]?"false":"true")}))}},e.handleFullExpand=function(){this.onFullExpand?this.onFullExpand():(this.hideEllipsis(),this.showAllItems())},e.computeVisibilityMap=function(){if(!this.expandableElements||0===this.expandableElements.length)return{expanded:!0};var i=Math.floor(this.element.getBoundingClientRect().width);if(this.itemsElements.map(function(e){return e.getBoundingClientRect().width}).reduce(function(e,t){return e+t})<=i)return{expanded:!0};var n=c(this.ellipsisSelector,this.element).getBoundingClientRect().width+this.staticElements.reduce(function(e,t){return e+t.getBoundingClientRect().width},0);if(i<=n)return{expanded:!1,isItemVisible:[].concat(this.expandableElements.map(function(){return!1}))};var l=0,s=!0;return{expanded:!1,isItemVisible:[].concat(this.expandableElements).reverse().map(function(e){if(!s)return!1;var t=(l+=e.getBoundingClientRect().width)+n<=i;return t||(s=!1),t}).reverse()}},l}(),n=function(){function l(e,t){var i=void 0===t?{}:t,n=i.ellipsisButtonSelector,l=void 0===n?"[data-ecl-breadcrumb-core-ellipsis-button]":n,s=i.ellipsisSelector,a=void 0===s?"[data-ecl-breadcrumb-core-ellipsis]":s,o=i.segmentSelector,r=void 0===o?"[data-ecl-breadcrumb-core-item]":o,c=i.expandableItemsSelector,h=void 0===c?'[data-ecl-breadcrumb-core-item="expandable"]':c,d=i.staticItemsSelector,u=void 0===d?'[data-ecl-breadcrumb-core-item="static"]':d,g=i.onPartialExpand,v=void 0===g?null:g,f=i.onFullExpand,p=void 0===f?null:f,m=i.attachClickListener,y=void 0===m||m;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.ellipsisButtonSelector=l,this.ellipsisSelector=a,this.segmentSelector=r,this.expandableItemsSelector=h,this.staticItemsSelector=u,this.onPartialExpand=v,this.onFullExpand=p,this.attachClickListener=y,this.ellipsisButton=null,this.itemsElements=null,this.staticElements=null,this.expandableElements=null,this.handleClickOnEllipsis=this.handleClickOnEllipsis.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).BREADCRUMB_CORE,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLBreadcrumbCore=n};var e=l.prototype;return e.init=function(){this.ellipsisButton=c(this.ellipsisButtonSelector,this.element),this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.addEventListener("click",this.handleClickOnEllipsis),this.itemsElements=o(this.segmentSelector,this.element),this.staticElements=o(this.staticItemsSelector,this.element),this.expandableElements=o(this.expandableItemsSelector,this.element),this.check()},e.destroy=function(){this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.removeEventListener("click",this.handleClickOnEllipsis)},e.handleClickOnEllipsis=function(){return this.handleFullExpand()},e.check=function(){var e=this.computeVisibilityMap();e&&(!0===e.expanded?this.handleFullExpand():this.handlePartialExpand(e))},e.hideEllipsis=function(){var e=c(this.ellipsisSelector,this.element);e&&e.setAttribute("aria-hidden","true"),this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.removeEventListener("click",this.handleClickOnEllipsis)},e.showAllItems=function(){this.expandableElements.forEach(function(e){return e.setAttribute("aria-hidden","false")})},e.handlePartialExpand=function(e){if(e){var i=e.isItemVisible;i&&Array.isArray(i)&&(this.onPartialExpand?this.onPartialExpand(i):this.expandableElements.forEach(function(e,t){e.setAttribute("aria-hidden",i[t]?"false":"true")}))}},e.handleFullExpand=function(){this.onFullExpand?this.onFullExpand():(this.hideEllipsis(),this.showAllItems())},e.computeVisibilityMap=function(){if(!this.expandableElements||0===this.expandableElements.length)return{expanded:!0};var i=Math.floor(this.element.getBoundingClientRect().width);if(this.itemsElements.map(function(e){return e.getBoundingClientRect().width}).reduce(function(e,t){return e+t})<=i)return{expanded:!0};var n=c(this.ellipsisSelector,this.element).getBoundingClientRect().width+this.staticElements.reduce(function(e,t){return e+t.getBoundingClientRect().width},0);if(i<=n)return{expanded:!1,isItemVisible:[].concat(this.expandableElements.map(function(){return!1}))};var l=0,s=!0;return{expanded:!1,isItemVisible:[].concat(this.expandableElements).reverse().map(function(e){if(!s)return!1;var t=(l+=e.getBoundingClientRect().width)+n<=i;return t||(s=!1),t}).reverse()}},l}(),l=function(){function l(e,t){var i=void 0===t?{}:t,n=i.ellipsisButtonSelector,l=void 0===n?"[data-ecl-breadcrumb-harmonised-ellipsis-button]":n,s=i.ellipsisSelector,a=void 0===s?"[data-ecl-breadcrumb-harmonised-ellipsis]":s,o=i.segmentSelector,r=void 0===o?"[data-ecl-breadcrumb-harmonised-item]":o,c=i.expandableItemsSelector,h=void 0===c?'[data-ecl-breadcrumb-harmonised-item="expandable"]':c,d=i.staticItemsSelector,u=void 0===d?'[data-ecl-breadcrumb-harmonised-item="static"]':d,g=i.onPartialExpand,v=void 0===g?null:g,f=i.onFullExpand,p=void 0===f?null:f,m=i.attachClickListener,y=void 0===m||m;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.ellipsisButtonSelector=l,this.ellipsisSelector=a,this.segmentSelector=r,this.expandableItemsSelector=h,this.staticItemsSelector=u,this.onPartialExpand=v,this.onFullExpand=p,this.attachClickListener=y,this.ellipsisButton=null,this.itemsElements=null,this.staticElements=null,this.expandableElements=null,this.handleClickOnEllipsis=this.handleClickOnEllipsis.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).BREADCRUMB_HARMONISED,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLBreadcrumbHarmonised=n};var e=l.prototype;return e.init=function(){this.ellipsisButton=c(this.ellipsisButtonSelector,this.element),this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.addEventListener("click",this.handleClickOnEllipsis),this.itemsElements=o(this.segmentSelector,this.element),this.staticElements=o(this.staticItemsSelector,this.element),this.expandableElements=o(this.expandableItemsSelector,this.element),this.check()},e.destroy=function(){this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.removeEventListener("click",this.handleClickOnEllipsis)},e.handleClickOnEllipsis=function(){return this.handleFullExpand()},e.check=function(){var e=this.computeVisibilityMap();e&&(!0===e.expanded?this.handleFullExpand():this.handlePartialExpand(e))},e.hideEllipsis=function(){var e=c(this.ellipsisSelector,this.element);e&&e.setAttribute("aria-hidden","true"),this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.removeEventListener("click",this.handleClickOnEllipsis)},e.showAllItems=function(){this.expandableElements.forEach(function(e){return e.setAttribute("aria-hidden","false")})},e.handlePartialExpand=function(e){if(e){var i=e.isItemVisible;i&&Array.isArray(i)&&(this.onPartialExpand?this.onPartialExpand(i):this.expandableElements.forEach(function(e,t){e.setAttribute("aria-hidden",i[t]?"false":"true")}))}},e.handleFullExpand=function(){this.onFullExpand?this.onFullExpand():(this.hideEllipsis(),this.showAllItems())},e.computeVisibilityMap=function(){if(!this.expandableElements||0===this.expandableElements.length)return{expanded:!0};var i=Math.floor(this.element.getBoundingClientRect().width);if(this.itemsElements.map(function(e){return e.getBoundingClientRect().width}).reduce(function(e,t){return e+t})<=i)return{expanded:!0};var n=c(this.ellipsisSelector,this.element).getBoundingClientRect().width+this.staticElements.reduce(function(e,t){return e+t.getBoundingClientRect().width},0);if(i<=n)return{expanded:!1,isItemVisible:[].concat(this.expandableElements.map(function(){return!1}))};var l=0,s=!0;return{expanded:!1,isItemVisible:[].concat(this.expandableElements).reverse().map(function(e){if(!s)return!1;var t=(l+=e.getBoundingClientRect().width)+n<=i;return t||(s=!1),t}).reverse()}},l}(),s=function(){function l(e,t){var i=void 0===t?{}:t,n=i.ellipsisButtonSelector,l=void 0===n?"[data-ecl-breadcrumb-standardised-ellipsis-button]":n,s=i.ellipsisSelector,a=void 0===s?"[data-ecl-breadcrumb-standardised-ellipsis]":s,o=i.segmentSelector,r=void 0===o?"[data-ecl-breadcrumb-standardised-item]":o,c=i.expandableItemsSelector,h=void 0===c?'[data-ecl-breadcrumb-standardised-item="expandable"]':c,d=i.staticItemsSelector,u=void 0===d?'[data-ecl-breadcrumb-standardised-item="static"]':d,g=i.onPartialExpand,v=void 0===g?null:g,f=i.onFullExpand,p=void 0===f?null:f,m=i.attachClickListener,y=void 0===m||m;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.ellipsisButtonSelector=l,this.ellipsisSelector=a,this.segmentSelector=r,this.expandableItemsSelector=h,this.staticItemsSelector=u,this.onPartialExpand=v,this.onFullExpand=p,this.attachClickListener=y,this.ellipsisButton=null,this.itemsElements=null,this.staticElements=null,this.expandableElements=null,this.handleClickOnEllipsis=this.handleClickOnEllipsis.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).BREADCRUMB_STANDARDISED,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLBreadcrumbStandardised=n};var e=l.prototype;return e.init=function(){this.ellipsisButton=c(this.ellipsisButtonSelector,this.element),this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.addEventListener("click",this.handleClickOnEllipsis),this.itemsElements=o(this.segmentSelector,this.element),this.staticElements=o(this.staticItemsSelector,this.element),this.expandableElements=o(this.expandableItemsSelector,this.element),this.check()},e.destroy=function(){this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.removeEventListener("click",this.handleClickOnEllipsis)},e.handleClickOnEllipsis=function(){return this.handleFullExpand()},e.check=function(){var e=this.computeVisibilityMap();e&&(!0===e.expanded?this.handleFullExpand():this.handlePartialExpand(e))},e.hideEllipsis=function(){var e=c(this.ellipsisSelector,this.element);e&&e.setAttribute("aria-hidden","true"),this.attachClickListener&&this.ellipsisButton&&this.ellipsisButton.removeEventListener("click",this.handleClickOnEllipsis)},e.showAllItems=function(){this.expandableElements.forEach(function(e){return e.setAttribute("aria-hidden","false")})},e.handlePartialExpand=function(e){if(e){var i=e.isItemVisible;i&&Array.isArray(i)&&(this.onPartialExpand?this.onPartialExpand(i):this.expandableElements.forEach(function(e,t){e.setAttribute("aria-hidden",i[t]?"false":"true")}))}},e.handleFullExpand=function(){this.onFullExpand?this.onFullExpand():(this.hideEllipsis(),this.showAllItems())},e.computeVisibilityMap=function(){if(!this.expandableElements||0===this.expandableElements.length)return{expanded:!0};var i=Math.floor(this.element.getBoundingClientRect().width);if(this.itemsElements.map(function(e){return e.getBoundingClientRect().width}).reduce(function(e,t){return e+t})<=i)return{expanded:!0};var n=c(this.ellipsisSelector,this.element).getBoundingClientRect().width+this.staticElements.reduce(function(e,t){return e+t.getBoundingClientRect().width},0);if(i<=n)return{expanded:!1,isItemVisible:[].concat(this.expandableElements.map(function(){return!1}))};var l=0,s=!0;return{expanded:!1,isItemVisible:[].concat(this.expandableElements).reverse().map(function(e){if(!s)return!1;var t=(l+=e.getBoundingClientRect().width)+n<=i;return t||(s=!1),t}).reverse()}},l}(),a=function(){function l(e,t){var i=void 0===t?{}:t,n=i.moreItemSelector,l=void 0===n?"[data-ecl-contextual-navigation-more]":n,s=i.listSelector,a=void 0===s?"[data-ecl-contextual-navigation-list]":s,o=i.attachClickListener,r=void 0===o||o;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.moreItemSelector=l,this.listSelector=a,this.attachClickListener=r,this.moreItem=null,this.list=null,this.handleClickOnMore=this.handleClickOnMore.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).CONTEXTUAL_NAVIGATION,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLContextualNavigation=n};var e=l.prototype;return e.init=function(){this.moreItem=c(this.moreItemSelector,this.element),this.list=c(this.listSelector,this.element),this.attachClickListener&&this.moreItem&&this.moreItem.addEventListener("click",this.handleClickOnMore)},e.destroy=function(){this.attachClickListener&&this.moreItem&&this.moreItem.removeEventListener("click",this.handleClickOnMore)},e.handleClickOnMore=function(){this.list.setAttribute("aria-expanded","true"),this.moreItem.parentNode&&this.moreItem.parentNode.parentNode&&this.moreItem.parentNode.parentNode.removeChild(this.moreItem.parentNode)},l}(),r=function(){function l(e,t){var i=void 0===t?{}:t,n=i.toggleSelector,l=void 0===n?"[data-ecl-expandable-toggle]":n,s=i.labelSelector,a=void 0===s?"[data-ecl-label]":s,o=i.labelExpanded,r=void 0===o?"data-ecl-label-expanded":o,c=i.labelCollapsed,h=void 0===c?"data-ecl-label-collapsed":c,d=i.attachClickListener,u=void 0===d||d;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.toggleSelector=l,this.labelSelector=a,this.labelExpanded=r,this.labelCollapsed=h,this.attachClickListener=u,this.toggle=null,this.forceClose=!1,this.target=null,this.label=null,this.handleClickOnToggle=this.handleClickOnToggle.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).EXPANDABLE,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLExpandable=n};var e=l.prototype;return e.init=function(){if(this.toggle=c(this.toggleSelector,this.element),this.target=document.querySelector("#"+this.toggle.getAttribute("aria-controls")),this.label=c(this.labelSelector,this.element),!this.target)throw new TypeError("Target has to be provided for expandable (aria-controls)");this.attachClickListener&&this.toggle&&this.toggle.addEventListener("click",this.handleClickOnToggle)},e.destroy=function(){this.attachClickListener&&this.toggle&&this.toggle.removeEventListener("click",this.handleClickOnToggle)},e.handleClickOnToggle=function(){var e=!0===this.forceClose||"true"===this.toggle.getAttribute("aria-expanded");return this.toggle.setAttribute("aria-expanded",e?"false":"true"),this.target.hidden=e,this.label&&!e&&this.toggle.hasAttribute(this.labelExpanded)?this.label.innerHTML=this.toggle.getAttribute(this.labelExpanded):this.label&&e&&this.toggle.hasAttribute(this.labelCollapsed)&&(this.label.innerHTML=this.toggle.getAttribute(this.labelCollapsed)),this},l}(),h=function(){function l(e,t){var i=void 0===t?{}:t,n=i.translationToggleSelector,l=void 0===n?"[data-ecl-file-translation-toggle]":n,s=i.translationContainerSelector,a=void 0===s?"[data-ecl-file-translation-container]":s,o=i.attachClickListener,r=void 0===o||o;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.translationToggleSelector=l,this.translationContainerSelector=a,this.attachClickListener=r,this.translationToggle=null,this.translationContainer=null,this.handleClickOnToggle=this.handleClickOnToggle.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).FILE_DOWNLOAD,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLFileDownload=n};var e=l.prototype;return e.init=function(){this.translationToggle=c(this.translationToggleSelector,this.element),this.translationContainer=c(this.translationContainerSelector,this.element),this.attachClickListener&&this.translationToggle&&this.translationToggle.addEventListener("click",this.handleClickOnToggle)},e.destroy=function(){this.attachClickListener&&this.translationToggle&&this.translationToggle.removeEventListener("click",this.handleClickOnToggle)},e.handleClickOnToggle=function(e){return e.preventDefault(),"true"===this.translationContainer.getAttribute("aria-expanded")?this.translationContainer.setAttribute("aria-expanded","false"):this.translationContainer.setAttribute("aria-expanded","true"),this},l}(),d=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],u=d.join(","),g="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function v(e,t){t=t||{};var i,n,l,s=[],a=[],o=e.querySelectorAll(u);for(t.includeContainer&&g.call(e,u)&&(o=Array.prototype.slice.apply(o)).unshift(e),i=0;i<o.length;i++)f(n=o[i])&&(0===(l=y(n))?s.push(n):a.push({documentOrder:i,tabIndex:l,node:n}));return a.sort(b).map(function(e){return e.node}).concat(s)}function f(e){return!(!p(e)||function(e){return function(e){return E(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||y(e)<0)}function p(e){return!(e.disabled||function(e){return E(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}v.isTabbable=function(e){if(!e)throw new Error("No node provided");return!1!==g.call(e,u)&&f(e)},v.isFocusable=function(e){if(!e)throw new Error("No node provided");return!1!==g.call(e,m)&&p(e)};var m=d.concat("iframe").join(",");function y(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function b(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function E(e){return"INPUT"===e.tagName}var S,L=v,k=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var n in i)C.call(i,n)&&(e[n]=i[n])}return e},C=Object.prototype.hasOwnProperty;var O,T=(O=[],{activateTrap:function(e){if(0<O.length){var t=O[O.length-1];t!==e&&t.pause()}var i=O.indexOf(e);-1===i||O.splice(i,1),O.push(e)},deactivateTrap:function(e){var t=O.indexOf(e);-1!==t&&O.splice(t,1),0<O.length&&O[O.length-1].unpause()}});function x(e){return setTimeout(e,0)}var w=function(e,t){var n=document,i="string"==typeof e?n.querySelector(e):e,l=k({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),s={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},a={activate:function(e){if(s.active)return;p(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:l.onActivate;t&&t();return r(),a},deactivate:o,pause:function(){if(s.paused||!s.active)return;s.paused=!0,c()},unpause:function(){if(!s.paused||!s.active)return;s.paused=!1,p(),r()}};return a;function o(e){if(s.active){clearTimeout(S),c(),s.active=!1,s.paused=!1,T.deactivateTrap(a);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:l.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:l.returnFocusOnDeactivate)&&x(function(){m(function(e){var t=h("setReturnFocus");return t||e}(s.nodeFocusedBeforeActivation))}),a}}function r(){if(s.active)return T.activateTrap(a),S=x(function(){m(d())}),n.addEventListener("focusin",g,!0),n.addEventListener("mousedown",u,{capture:!0,passive:!1}),n.addEventListener("touchstart",u,{capture:!0,passive:!1}),n.addEventListener("click",f,{capture:!0,passive:!1}),n.addEventListener("keydown",v,{capture:!0,passive:!1}),a}function c(){if(s.active)return n.removeEventListener("focusin",g,!0),n.removeEventListener("mousedown",u,!0),n.removeEventListener("touchstart",u,!0),n.removeEventListener("click",f,!0),n.removeEventListener("keydown",v,!0),a}function h(e){var t=l[e],i=t;if(!t)return null;if("string"==typeof t&&!(i=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(i=t()))throw new Error("`"+e+"` did not return a node");return i}function d(){var e;if(!(e=null!==h("initialFocus")?h("initialFocus"):i.contains(n.activeElement)?n.activeElement:s.firstTabbableNode||h("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function u(e){i.contains(e.target)||(l.clickOutsideDeactivates?o({returnFocus:!L.isFocusable(e.target)}):l.allowOutsideClick&&l.allowOutsideClick(e)||e.preventDefault())}function g(e){i.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),m(s.mostRecentlyFocusedNode||d()))}function v(e){if(!1!==l.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void o();!function(e){return"Tab"===e.key||9===e.keyCode}(e)||function(e){if(p(),e.shiftKey&&e.target===s.firstTabbableNode)return e.preventDefault(),m(s.lastTabbableNode);if(!e.shiftKey&&e.target===s.lastTabbableNode)e.preventDefault(),m(s.firstTabbableNode)}(e)}function f(e){l.clickOutsideDeactivates||i.contains(e.target)||l.allowOutsideClick&&l.allowOutsideClick(e)||(e.preventDefault(),e.stopImmediatePropagation())}function p(){var e=L(i);s.firstTabbableNode=e[0]||d(),s.lastTabbableNode=e[e.length-1]||d()}function m(e){e!==n.activeElement&&(e&&e.focus?(e.focus(),function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(s.mostRecentlyFocusedNode=e)&&e.select()):m(d()))}},A=function(){function l(e,t){var i=void 0===t?{}:t,n=i.galleryItemSelector,l=void 0===n?"[data-ecl-gallery-item]":n,s=i.descriptionSelector,a=void 0===s?"[data-ecl-gallery-description]":s,o=i.metaSelector,r=void 0===o?"[data-ecl-gallery-meta]":o,c=i.closeButtonSelector,h=void 0===c?"[data-ecl-gallery-close]":c,d=i.overlaySelector,u=void 0===d?"[data-ecl-gallery-overlay]":d,g=i.overlayHeaderSelector,v=void 0===g?"[data-ecl-gallery-overlay-header]":g,f=i.overlayFooterSelector,p=void 0===f?"[data-ecl-gallery-overlay-footer]":f,m=i.overlayImageSelector,y=void 0===m?"[data-ecl-gallery-overlay-image]":m,b=i.overlayMediaSelector,E=void 0===b?"[data-ecl-gallery-overlay-media]":b,S=i.overlayCounterCurrentSelector,L=void 0===S?"[data-ecl-gallery-overlay-counter-current]":S,k=i.overlayCounterMaxSelector,C=void 0===k?"[data-ecl-gallery-overlay-counter-max]":k,O=i.overlayDownloadSelector,T=void 0===O?"[data-ecl-gallery-overlay-download]":O,x=i.overlayShareSelector,w=void 0===x?"[data-ecl-gallery-overlay-share]":x,A=i.overlayDescriptionSelector,I=void 0===A?"[data-ecl-gallery-overlay-description]":A,B=i.overlayMetaSelector,_=void 0===B?"[data-ecl-gallery-overlay-meta]":B,N=i.overlayPreviousSelector,M=void 0===N?"[data-ecl-gallery-overlay-previous]":N,D=i.overlayNextSelector,F=void 0===D?"[data-ecl-gallery-overlay-next]":D,P=i.attachClickListener,H=void 0===P||P,R=i.attachKeyListener,z=void 0===R||R;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.galleryItemSelector=l,this.descriptionSelector=a,this.metaSelector=r,this.closeButtonSelector=h,this.overlaySelector=u,this.overlayHeaderSelector=v,this.overlayFooterSelector=p,this.overlayImageSelector=y,this.overlayMediaSelector=E,this.overlayCounterCurrentSelector=L,this.overlayCounterMaxSelector=C,this.overlayDownloadSelector=T,this.overlayShareSelector=w,this.overlayDescriptionSelector=I,this.overlayMetaSelector=_,this.overlayPreviousSelector=M,this.overlayNextSelector=F,this.attachClickListener=H,this.attachKeyListener=z,this.galleryItems=null,this.meta=null,this.closeButton=null,this.overlay=null,this.overlayHeader=null,this.overlayFooter=null,this.overlayImage=null,this.overlayMedia=null,this.overlayCounterCurrent=null,this.overlayCounterMax=null,this.overlayDownload=null,this.overlayShare=null,this.overlayDescription=null,this.overlayMeta=null,this.overlayPrevious=null,this.overlayNext=null,this.selectedItem=null,this.focusTrap=null,this.handleClickOnCloseButton=this.handleClickOnCloseButton.bind(this),this.handleClickOnItem=this.handleClickOnItem.bind(this),this.handleKeyPressOnItem=this.handleKeyPressOnItem.bind(this),this.handleClickOnPreviousButton=this.handleClickOnPreviousButton.bind(this),this.handleClickOnNextButton=this.handleClickOnNextButton.bind(this),this.handleKeyboard=this.handleKeyboard.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).GALLERY,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLGallery=n};var e=l.prototype;return e.init=function(){var t=this;this.galleryItems=o(this.galleryItemSelector,this.element),this.closeButton=c(this.closeButtonSelector,this.element),this.overlay=c(this.overlaySelector,this.element),this.overlayHeader=c(this.overlayHeaderSelector,this.overlay),this.overlayFooter=c(this.overlayFooterSelector,this.overlay),this.overlayImage=c(this.overlayImageSelector,this.overlay),this.overlayMedia=c(this.overlayMediaSelector,this.overlay),this.overlayCounterCurrent=c(this.overlayCounterCurrentSelector,this.overlay),this.overlayCounterMax=c(this.overlayCounterMaxSelector,this.overlay),this.overlayDownload=c(this.overlayDownloadSelector,this.overlay),this.overlayShare=c(this.overlayShareSelector,this.overlay),this.overlayDescription=c(this.overlayDescriptionSelector,this.overlay),this.overlayMeta=c(this.overlayMetaSelector,this.overlay),this.overlayPrevious=c(this.overlayPreviousSelector,this.overlay),this.overlayNext=c(this.overlayNextSelector,this.overlay),this.focusTrap=w(this.overlay,{escapeDeactivates:!1,returnFocusOnDeactivate:!1}),this.isDialogSupported=!0,window.HTMLDialogElement||(this.isDialogSupported=!1),this.attachClickListener&&this.closeButton&&this.closeButton.addEventListener("click",this.handleClickOnCloseButton),this.attachClickListener&&this.galleryItems&&this.galleryItems.forEach(function(e){t.attachClickListener&&e.addEventListener("click",t.handleClickOnItem),t.attachKeyListener&&e.addEventListener("keyup",t.handleKeyPressOnItem)}),this.attachClickListener&&this.overlayPrevious&&this.overlayPrevious.addEventListener("click",this.handleClickOnPreviousButton),this.attachClickListener&&this.overlayNext&&this.overlayNext.addEventListener("click",this.handleClickOnNextButton),!this.isDialogSupported&&this.attachKeyListener&&this.overlay&&this.overlay.addEventListener("keyup",this.handleKeyboard),this.isDialogSupported&&this.overlay&&this.overlay.addEventListener("close",this.handleClickOnCloseButton),this.galleryItems.forEach(function(e,t){e.setAttribute("data-ecl-gallery-item-id",t)})},e.destroy=function(){var t=this;this.attachClickListener&&this.closeButton&&this.closeButton.removeEventListener("click",this.handleClickOnCloseButton),this.attachClickListener&&this.galleryItems&&this.galleryItems.forEach(function(e){e.removeEventListener("click",t.handleClickOnItem)}),this.attachClickListener&&this.overlayPrevious&&this.overlayPrevious.removeEventListener("click",this.handleClickOnPreviousButton),this.attachClickListener&&this.overlayNext&&this.overlayNext.removeEventListener("click",this.handleClickOnNextButton),!this.isDialogSupported&&this.attachKeyListener&&this.overlay&&this.overlay.removeEventListener("keyup",this.handleKeyboard),this.isDialogSupported&&this.overlay&&this.overlay.removeEventListener("close",this.handleClickOnCloseButton)},e.updateOverlay=function(e){this.selectedItem=e;var t=c("video",e),i=null;if(null!=t){(i=document.createElement("video")).setAttribute("poster",t.poster),i.setAttribute("controls","controls"),i.classList.add("ecl-gallery__slider-video"),this.overlayMedia&&(this.overlayMedia.innerHTML="",this.overlayMedia.appendChild(i)),o("source",t).forEach(function(e){var t=document.createElement("source");t.setAttribute("src",e.getAttribute("src")),t.setAttribute("type",e.getAttribute("type")),i.appendChild(t)}),o("track",t).forEach(function(e){var t=document.createElement("track");t.setAttribute("src",e.getAttribute("src")),t.setAttribute("kind",e.getAttribute("kind")),t.setAttribute("srclang",e.getAttribute("srcLang")),t.setAttribute("label",e.getAttribute("label")),i.appendChild(t)}),i.load()}else{var n=c("img",e);(i=document.createElement("img")).setAttribute("src",n.getAttribute("src")),i.setAttribute("alt",n.getAttribute("alt")),i.classList.add("ecl-gallery__slider-image"),this.overlayMedia?(this.overlayMedia.innerHTML="",this.overlayMedia.appendChild(i)):this.overlayImage&&this.overlayImage.setAttribute("src",e.getAttribute("href"))}var l=this.overlay.clientHeight-this.overlayHeader.clientHeight-this.overlayFooter.clientHeight;this.overlayMedia?Object.assign(i.style,{maxHeight:l+"px"}):this.overlayImage&&Object.assign(this.overlayImage.style,{maxHeight:l+"px"}),this.overlayCounterCurrent.innerHTML=+e.getAttribute("data-ecl-gallery-item-id")+1,this.overlayCounterMax.innerHTML=this.galleryItems.length,this.overlayDownload.href=this.selectedItem.href,this.overlayShare.href=this.selectedItem.getAttribute("data-ecl-gallery-item-share");var s=c(this.metaSelector,e);this.overlayMeta.innerHTML=s.innerHTML;var a=c(this.descriptionSelector,e);this.overlayDescription.innerHTML=a.innerHTML},e.handleKeyboard=function(e){"Escape"!==e.key&&"Esc"!==e.key||this.handleClickOnCloseButton()},e.handleClickOnCloseButton=function(){this.isDialogSupported?this.overlay.close():this.overlay.removeAttribute("open");var e=c("video",this.selectedItem);e&&e.pause(),this.focusTrap.deactivate(),this.selectedItem.focus(),document.body.classList.remove("ecl-u-disablescroll")},e.handleKeyPressOnItem=function(e){32===e.keyCode&&this.handleClickOnItem(e)},e.handleClickOnItem=function(e){e.preventDefault(),document.body.classList.add("ecl-u-disablescroll"),this.isDialogSupported?this.overlay.showModal():this.overlay.setAttribute("open",""),this.updateOverlay(e.currentTarget),this.focusTrap.activate()},e.handleClickOnPreviousButton=function(){var e=this.selectedItem.getAttribute("data-ecl-gallery-item-id")-1;e<0&&(e=this.galleryItems.length-1);var t=c("video",this.selectedItem);return t&&t.pause(),this.updateOverlay(this.galleryItems[e]),this.selectedItem=this.galleryItems[e],this},e.handleClickOnNextButton=function(){var e=+this.selectedItem.getAttribute("data-ecl-gallery-item-id")+1;e>=this.galleryItems.length&&(e=0);var t=c("video",this.selectedItem);return t&&t.pause(),this.updateOverlay(this.galleryItems[e]),this.selectedItem=this.galleryItems[e],this},l}(),I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function B(e,t){return e(t={exports:{}},t.exports),t.exports}var _=B(function(d){!function(u,g){var e=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e};function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t,v=!1,i=void 0!==u;i&&u.getComputedStyle?(t=g.createElement("div"),["","-webkit-","-moz-","-ms-"].some(function(e){try{t.style.position=e+"sticky"}catch(e){}return""!=t.style.position})&&(v=!0)):v=!0;var s=!1,f="undefined"!=typeof ShadowRoot,a={top:null,left:null},o=[];function p(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}function m(e){return parseFloat(e)||0}function y(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}var l=(e(r,[{key:"refresh",value:function(){if(!v&&!this._removed){this._active&&this._deactivate();var e=this._node,t=getComputedStyle(e),i={position:t.position,top:t.top,display:t.display,marginTop:t.marginTop,marginBottom:t.marginBottom,marginLeft:t.marginLeft,marginRight:t.marginRight,cssFloat:t.cssFloat};if(!isNaN(parseFloat(i.top))&&"table-cell"!=i.display&&"none"!=i.display){this._active=!0;var n=e.style.position;"sticky"!=t.position&&"-webkit-sticky"!=t.position||(e.style.position="static");var l=e.parentNode,s=f&&l instanceof ShadowRoot?l.host:l,a=e.getBoundingClientRect(),o=s.getBoundingClientRect(),r=getComputedStyle(s);this._parent={node:s,styles:{position:s.style.position},offsetHeight:s.offsetHeight},this._offsetToWindow={left:a.left,right:g.documentElement.clientWidth-a.right},this._offsetToParent={top:a.top-o.top-m(r.borderTopWidth),left:a.left-o.left-m(r.borderLeftWidth),right:-a.right+o.right-m(r.borderRightWidth)},this._styles={position:n,top:e.style.top,bottom:e.style.bottom,left:e.style.left,right:e.style.right,width:e.style.width,marginTop:e.style.marginTop,marginLeft:e.style.marginLeft,marginRight:e.style.marginRight};var c=m(i.top);this._limits={start:a.top+u.pageYOffset-c,end:o.top+u.pageYOffset+s.offsetHeight-m(r.borderBottomWidth)-e.offsetHeight-c-m(i.marginBottom)};var h=r.position;"absolute"!=h&&"relative"!=h&&(s.style.position="relative"),this._recalcPosition();var d=this._clone={};d.node=g.createElement("div"),p(d.node.style,{width:a.right-a.left+"px",height:a.bottom-a.top+"px",marginTop:i.marginTop,marginBottom:i.marginBottom,marginLeft:i.marginLeft,marginRight:i.marginRight,cssFloat:i.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),l.insertBefore(d.node,e),d.docOffsetTop=y(d.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var e=a.top<=this._limits.start?"start":a.top>=this._limits.end?"end":"middle";if(this._stickyMode!=e){switch(e){case"start":p(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":p(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":p(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=e}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(1<Math.abs(y(this._clone.node)-this._clone.docOffsetTop)||1<Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight))&&this.refresh()}},{key:"_deactivate",value:function(){var t=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,p(this._node.style,this._styles),delete this._styles,o.some(function(e){return e!==t&&e._parent&&e._parent.node===t._parent.node})||p(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var i=this;this._deactivate(),o.some(function(e,t){if(e._node===i._node)return o.splice(t,1),!0}),this._removed=!0}}]),r);function r(t){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),!(t instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(o.some(function(e){return e._node===t}))throw new Error("Stickyfill is already applied to this node");this._node=t,this._stickyMode=null,this._active=!1,o.push(this),this.refresh()}var c={stickies:o,Sticky:l,forceSticky:function(){v=!1,h(),this.refreshAll()},addOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}for(var t=0;t<o.length;t++)if(o[t]._node===e)return o[t];return new l(e)},add:function(i){if(i instanceof HTMLElement&&(i=[i]),i.length){for(var n=[],e=function(e){var t=i[e];return t instanceof HTMLElement?o.some(function(e){if(e._node===t)return n.push(e),!0})?"continue":void n.push(new l(t)):(n.push(void 0),"continue")},t=0;t<i.length;t++)e(t);return n}},refreshAll:function(){o.forEach(function(e){return e.refresh()})},removeOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}o.some(function(e){if(e._node===t)return e.remove(),!0})},remove:function(i){if(i instanceof HTMLElement&&(i=[i]),i.length)for(var e=function(e){var t=i[e];o.some(function(e){if(e._node===t)return e.remove(),!0})},t=0;t<i.length;t++)e(t)},removeAll:function(){for(;o.length;)o[0].remove()}};function h(){if(!s){s=!0,n(),u.addEventListener("scroll",n),u.addEventListener("resize",c.refreshAll),u.addEventListener("orientationchange",c.refreshAll);var e=void 0,t=void 0,i=void 0;"hidden"in g?(t="hidden",i="visibilitychange"):"webkitHidden"in g&&(t="webkitHidden",i="webkitvisibilitychange"),i?(g[t]||l(),g.addEventListener(i,function(){g[t]?clearInterval(e):l()})):l()}function n(){u.pageXOffset!=a.left?(a.top=u.pageYOffset,a.left=u.pageXOffset,c.refreshAll()):u.pageYOffset!=a.top&&(a.top=u.pageYOffset,a.left=u.pageXOffset,o.forEach(function(e){return e._recalcPosition()}))}function l(){e=setInterval(function(){o.forEach(function(e){return e._fastCheck()})},500)}}v||h(),d.exports?d.exports=c:i&&(u.Stickyfill=c)}(window,document)}),N=B(function(e,t){var i;Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null}),function(){if("function"==typeof window.CustomEvent)return;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),i=void 0!==I?I:"undefined"!=typeof window?window:I,e.exports=function(u){var g={navClass:"active",contentClass:"active",nested:false,nestedClass:"active",offset:0,reflow:false,events:true},v=function e(){var i={};Array.prototype.forEach.call(arguments,function(e){for(var t in e){if(!e.hasOwnProperty(t))return;i[t]=e[t]}});return i},l=function e(t,i,n){if(!n.settings.events)return;var l=new CustomEvent(t,{bubbles:true,cancelable:true,detail:n});i.dispatchEvent(l)},s=function e(t){var i=0;if(t.offsetParent){while(t){i+=t.offsetTop;t=t.offsetParent}}return i>=0?i:0},f=function e(t){if(t){t.sort(function(e,t){var i=s(e.content);var n=s(t.content);if(i<n)return-1;return 1})}},a=function e(t){if(typeof t.offset==="function"){return parseFloat(t.offset())}return parseFloat(t.offset)},t=function e(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},o=function e(t,i,n){var l=t.getBoundingClientRect();var s=a(i);if(n){return parseInt(l.bottom,10)<(u.innerHeight||document.documentElement.clientHeight)}return parseInt(l.top,10)<=s},n=function e(){if(u.innerHeight+u.pageYOffset>=t())return true;return false},r=function e(t,i){if(n()&&o(t.content,i,true))return true;return false},p=function e(t,i){var n=t[t.length-1];if(r(n,i))return n;for(var l=t.length-1;l>=0;l--){if(o(t[l].content,i))return t[l]}},c=function e(t,i){if(!i.nested||!t.parentNode)return;var n=t.parentNode.closest("li");if(!n)return;n.classList.remove(i.nestedClass);e(n,i)},m=function e(t,i){if(!t)return;var n=t.nav.closest("li");if(!n)return;n.classList.remove(i.navClass);t.content.classList.remove(i.contentClass);c(n,i);l("gumshoeDeactivate",n,{link:t.nav,content:t.content,settings:i})},h=function e(t,i){if(!i.nested)return;var n=t.parentNode.closest("li");if(!n)return;n.classList.add(i.nestedClass);e(n,i)},y=function e(t,i){if(!t)return;var n=t.nav.closest("li");if(!n)return;n.classList.add(i.navClass);t.content.classList.add(i.contentClass);h(n,i);l("gumshoeActivate",n,{link:t.nav,content:t.content,settings:i})},e;return function e(t,i){var n={};var l,s,a,o,r;n.setup=function(){l=document.querySelectorAll(t);s=[];Array.prototype.forEach.call(l,function(e){var t=document.getElementById(decodeURIComponent(e.hash.substr(1)));if(!t)return;s.push({nav:e,content:t})});f(s)};n.detect=function(){var e=p(s,r);if(!e){if(a){m(a,r);a=null}return}if(a&&e.content===a.content)return;m(a,r);y(e,r);a=e};var c=function e(t){if(o){u.cancelAnimationFrame(o)}o=u.requestAnimationFrame(n.detect)};var h=function e(t){if(o){u.cancelAnimationFrame(o)}o=u.requestAnimationFrame(function(){f(s);n.detect()})};n.destroy=function(){if(a){m(a,r)}u.removeEventListener("scroll",c,false);if(r.reflow){u.removeEventListener("resize",h,false)}s=null;l=null;a=null;o=null;r=null};var d=function e(){r=v(g,i||{});n.setup();n.detect();u.addEventListener("scroll",c,false);if(r.reflow){u.addEventListener("resize",h,false)}};d();return n}}(i)}),M=function(){function l(e,t){var i=void 0===t?{}:t,n=i.stickySelector,l=void 0===n?"[data-ecl-inpage-navigation]":n,s=i.containerSelector,a=void 0===s?"[data-ecl-inpage-navigation-container]":s,o=i.inPageList,r=void 0===o?"[data-ecl-inpage-navigation-list]":o,c=i.spySelector,h=void 0===c?"[data-ecl-inpage-navigation-link]":c,d=i.toggleSelector,u=void 0===d?"[data-ecl-inpage-navigation-trigger]":d,g=i.linksSelector,v=void 0===g?"[data-ecl-inpage-navigation-link]":g,f=i.spyActiveContainer,p=void 0===f?"ecl-inpage-navigation--visible":f,m=i.spyOffset,y=void 0===m?20:m,b=i.spyClass,E=void 0===b?"ecl-inpage-navigation__item--active":b,S=i.spyTrigger,L=void 0===S?"[data-ecl-inpage-navigation-trigger-current]":S,k=i.attachClickListener,C=void 0===k||k;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.attachClickListener=C,this.stickySelector=l,this.containerSelector=a,this.toggleSelector=u,this.linksSelector=v,this.inPageList=r,this.spyActiveContainer=p,this.spySelector=h,this.spyOffset=y,this.spyClass=E,this.spyTrigger=L,this.gumshoe=null,this.observer=null,this.stickyObserver=null,this.handleClickOnToggler=this.handleClickOnToggler.bind(this),this.handleClickOnLink=this.handleClickOnLink.bind(this),this.initScrollSpy=this.initScrollSpy.bind(this),this.initObserver=this.initObserver.bind(this),this.activateScrollSpy=this.activateScrollSpy.bind(this),this.deactivateScrollSpy=this.deactivateScrollSpy.bind(this),this.destroySticky=this.destroySticky.bind(this),this.destroyScrollSpy=this.destroyScrollSpy.bind(this),this.destroyObserver=this.destroyObserver.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).INPAGE_NAVIGATION,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLInpageNavigation=n};var e=l.prototype;return e.initSticky=function(){this.stickyInstance=new _.Sticky(this.element)},e.destroySticky=function(){this.stickyInstance&&this.stickyInstance.remove()},e.initScrollSpy=function(){var s=this;if(this.gumshoe=new N(this.spySelector,{navClass:this.spyClass,offset:this.spyOffset,reflow:!0}),document.addEventListener("gumshoeActivate",this.activateScrollSpy,!1),document.addEventListener("gumshoeDeactivate",this.deactivateScrollSpy,!1),"IntersectionObserver"in window){var e=c(this.containerSelector);if(e){var a=0,o=0,r=!1;this.stickyObserver=new IntersectionObserver(function(e){if(e&&e[0]){var t=e[0],i=t.boundingClientRect.y,n=t.intersectionRatio,l=t.isIntersecting;if(!r)return r=!0,a=i,void(o=n);i<a?o<n&&l||s.element.classList.remove(s.spyActiveContainer):a<i&&l&&o<n&&s.element.classList.add(s.spyActiveContainer),a=i,o=n}},{root:null}),this.stickyObserver.observe(e)}}},e.activateScrollSpy=function(e){var t=c(this.spyTrigger);this.element.classList.add(this.spyActiveContainer),t.textContent=e.detail.content.textContent},e.deactivateScrollSpy=function(){var e=c(this.spyTrigger),t=c(this.inPageList,this.element),i=c(this.toggleSelector,this.element);this.element.classList.remove(this.spyActiveContainer),e.innerHTML="",t.hidden=!0,i.setAttribute("aria-expanded","false")},e.destroyScrollSpy=function(){this.stickyObserver&&this.stickyObserver.disconnect(),document.removeEventListener("gumshoeActivate",this.activateScrollSpy,!1),document.removeEventListener("gumshoeDeactivate",this.deactivateScrollSpy,!1),this.gumshoe.destroy()},e.initObserver=function(){if("MutationObserver"in window){var t=this;this.observer=new MutationObserver(function(e){var n=c(".ecl-col-lg-9"),l=c("[data-ecl-inpage-navigation-list]");e.forEach(function(e){e&&e.target&&e.target.classList&&!e.target.classList.contains("ecl-inpage-navigation__trigger-current")&&(0<e.addedNodes.length&&[].slice.call(e.addedNodes).forEach(function(t){if("H2"===t.tagName&&t.id){var e=o("h2[id]",n).findIndex(function(e){return e.id===t.id}),i=l.childNodes[e-1].cloneNode(!0);i.childNodes[0].textContent=t.textContent,i.childNodes[0].href="#"+t.id,l.childNodes[e-1].after(i)}}),0<e.removedNodes.length&&[].slice.call(e.removedNodes).forEach(function(t){"H2"===t.tagName&&t.id&&l.childNodes.forEach(function(e){-1!==e.childNodes[0].href.indexOf(t.id)&&l.removeChild(e)})}),t.update())})}),this.observer.observe(document,{subtree:!0,childList:!0})}},e.destroyObserver=function(){this.observer&&this.observer.disconnect()},e.init=function(){var t=this,e=c(this.toggleSelector,this.element),i=o(this.linksSelector,this.element);this.initSticky(this.element),this.initScrollSpy(),this.initObserver(),this.attachClickListener&&e&&e.addEventListener("click",this.handleClickOnToggler),this.attachClickListener&&i&&(i.forEach(function(e){return e.addEventListener("click",t.handleClickOnLink)}),e.addEventListener("click",this.handleClickOnToggler))},e.update=function(){this.gumshoe.setup()},e.handleClickOnToggler=function(e){var t=c(this.inPageList,this.element),i=t.getAttributeNode("hidden"),n=c(this.toggleSelector,this.element);i?(t.hidden=!1,n.setAttribute("aria-expanded","true")):(t.hidden=!0,n.setAttribute("aria-expanded","false")),e.preventDefault()},e.handleClickOnLink=function(){var e=c(this.inPageList,this.element),t=c(this.toggleSelector,this.element);e.hidden=!0,t.setAttribute("aria-expanded","false")},e.destroy=function(){var t=this;this.attachClickListener&&this.toggleElement&&this.toggleElement.removeEventListener("click",this.handleClickOnToggler),this.attachClickListener&&this.navLinks&&this.navLinks.forEach(function(e){return e.removeEventListener("click",t.handleClickOnLink)}),this.destroyScrollSpy(),this.destroySticky(),this.destroyObserver()},l}(),D=function(){function l(e,t){var i=void 0===t?{}:t,n=i.closeSelector,l=void 0===n?"[data-ecl-message-close]":n,s=i.attachClickListener,a=void 0===s||s;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.closeSelector=l,this.attachClickListener=a,this.close=null,this.handleClickOnClose=this.handleClickOnClose.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).MESSAGE,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLMessage=n};var e=l.prototype;return e.init=function(){this.close=c(this.closeSelector,this.element),this.attachClickListener&&this.close&&this.close.addEventListener("click",this.handleClickOnClose)},e.destroy=function(){this.attachClickListener&&this.close&&this.close.removeEventListener("click",this.handleClickOnClose)},e.handleClickOnClose=function(){return this.element.parentNode&&this.element.parentNode.removeChild(this.element),this},l}(),F=function(){function l(e,t){var i=void 0===t?{}:t,n=i.languageLinkSelector,l=void 0===n?"[data-ecl-language-selector]":n,s=i.languageListOverlaySelector,a=void 0===s?"[data-ecl-language-list-overlay]":s,o=i.closeOverlaySelector,r=void 0===o?"[data-ecl-language-list-close]":o;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.languageLinkSelector=l,this.languageListOverlaySelector=a,this.closeOverlaySelector=r,this.languageSelector=null,this.languageListOverlay=null,this.close=null,this.focusTrap=null,this.openOverlay=this.openOverlay.bind(this),this.closeOverlay=this.closeOverlay.bind(this),this.toggleOverlay=this.toggleOverlay.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).SITE_HEADER,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLSiteHeader=n};var e=l.prototype;return e.init=function(){this.languageSelector=c(this.languageLinkSelector),this.languageListOverlay=c(this.languageListOverlaySelector),this.close=c(this.closeOverlaySelector),this.focusTrap=w(this.languageListOverlay,{onDeactivate:this.closeOverlay}),this.languageSelector.addEventListener("click",this.toggleOverlay),this.close.addEventListener("click",this.toggleOverlay)},e.destroy=function(){this.languageSelector&&this.languageSelector.removeEventListener("click",this.toggleOverlay),this.focusTrap&&this.focusTrap.deactivate(),this.close&&this.close.removeEventListener("click",this.toggleOverlay)},e.openOverlay=function(){this.languageListOverlay.hidden=!1},e.closeOverlay=function(){this.languageListOverlay.hidden=!0},e.toggleOverlay=function(e){this.languageListOverlay&&this.focusTrap&&(e.preventDefault(),this.languageListOverlay.hasAttribute("hidden")?(this.openOverlay(),this.focusTrap.activate()):this.focusTrap.deactivate())},l}(),P=function(){function l(e,t){var i=void 0===t?{}:t,n=i.languageLinkSelector,l=void 0===n?"[data-ecl-language-selector]":n,s=i.languageListOverlaySelector,a=void 0===s?"[data-ecl-language-list-overlay]":s,o=i.closeOverlaySelector,r=void 0===o?"[data-ecl-language-list-close]":o,c=i.searchToggleSelector,h=void 0===c?"[data-ecl-search-toggle]":c,d=i.searchFormSelector,u=void 0===d?"[data-ecl-search-form]":d,g=i.loginToggleSelector,v=void 0===g?"[data-ecl-login-toggle]":g,f=i.loginBoxSelector,p=void 0===f?"[data-ecl-login-box]":f;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.languageLinkSelector=l,this.languageListOverlaySelector=a,this.closeOverlaySelector=r,this.searchToggleSelector=h,this.searchFormSelector=u,this.loginToggleSelector=v,this.loginBoxSelector=p,this.languageSelector=null,this.languageListOverlay=null,this.close=null,this.focusTrap=null,this.searchToggle=null,this.searchForm=null,this.loginToggle=null,this.loginBox=null,this.openOverlay=this.openOverlay.bind(this),this.closeOverlay=this.closeOverlay.bind(this),this.toggleOverlay=this.toggleOverlay.bind(this),this.toggleSearch=this.toggleSearch.bind(this),this.toggleLogin=this.toggleLogin.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).SITE_HEADER_CORE,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLSiteHeaderCore=n};var e=l.prototype;return e.init=function(){this.languageSelector=c(this.languageLinkSelector),this.languageListOverlay=c(this.languageListOverlaySelector),this.close=c(this.closeOverlaySelector),this.focusTrap=w(this.languageListOverlay,{onDeactivate:this.closeOverlay}),this.languageSelector.addEventListener("click",this.toggleOverlay),this.close.addEventListener("click",this.toggleOverlay),this.searchToggle=c(this.searchToggleSelector),this.searchForm=c(this.searchFormSelector),this.searchToggle.addEventListener("click",this.toggleSearch),this.loginToggle=c(this.loginToggleSelector),this.loginBox=c(this.loginBoxSelector),this.loginToggle&&this.loginToggle.addEventListener("click",this.toggleLogin)},e.destroy=function(){this.languageSelector&&this.languageSelector.removeEventListener("click",this.toggleOverlay),this.focusTrap&&this.focusTrap.deactivate(),this.close&&this.close.removeEventListener("click",this.toggleOverlay),this.searchToggle&&this.searchToggle.removeEventListener("click",this.toggleSearch),this.loginToggle&&this.loginToggle.removeEventListener("click",this.toggleLogin)},e.openOverlay=function(){this.languageListOverlay.hidden=!1,this.languageListOverlay.setAttribute("aria-modal","true"),this.languageSelector.setAttribute("aria-expanded","true")},e.closeOverlay=function(){this.languageListOverlay.hidden=!0,this.languageListOverlay.removeAttribute("aria-modal"),this.languageSelector.setAttribute("aria-expanded","false")},e.toggleOverlay=function(e){this.languageListOverlay&&this.focusTrap&&(e.preventDefault(),this.languageListOverlay.hasAttribute("hidden")?(this.openOverlay(),this.focusTrap.activate()):this.focusTrap.deactivate())},e.toggleSearch=function(e){if(this.searchForm){e.preventDefault();var t="true"===this.searchToggle.getAttribute("aria-expanded");this.loginToggle&&"true"===this.loginToggle.getAttribute("aria-expanded")&&this.toggleLogin(e),this.searchToggle.setAttribute("aria-expanded",t?"false":"true"),t?this.searchForm.classList.remove("ecl-site-header-core__search--active"):this.searchForm.classList.add("ecl-site-header-core__search--active")}},e.toggleLogin=function(e){if(this.loginBox){e.preventDefault();var t="true"===this.loginToggle.getAttribute("aria-expanded");this.searchToggle&&"true"===this.searchToggle.getAttribute("aria-expanded")&&this.toggleSearch(e),this.loginToggle.setAttribute("aria-expanded",t?"false":"true"),t?this.loginBox.classList.remove("ecl-site-header-core__login-box--active"):this.loginBox.classList.add("ecl-site-header-core__login-box--active")}},l}(),H=function(){function l(e,t){var i=void 0===t?{}:t,n=i.languageLinkSelector,l=void 0===n?"[data-ecl-language-selector]":n,s=i.languageListOverlaySelector,a=void 0===s?"[data-ecl-language-list-overlay]":s,o=i.closeOverlaySelector,r=void 0===o?"[data-ecl-language-list-close]":o,c=i.searchToggleSelector,h=void 0===c?"[data-ecl-search-toggle]":c,d=i.searchFormSelector,u=void 0===d?"[data-ecl-search-form]":d,g=i.loginToggleSelector,v=void 0===g?"[data-ecl-login-toggle]":g,f=i.loginBoxSelector,p=void 0===f?"[data-ecl-login-box]":f;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.languageLinkSelector=l,this.languageListOverlaySelector=a,this.closeOverlaySelector=r,this.searchToggleSelector=h,this.searchFormSelector=u,this.loginToggleSelector=v,this.loginBoxSelector=p,this.languageSelector=null,this.languageListOverlay=null,this.close=null,this.focusTrap=null,this.searchToggle=null,this.searchForm=null,this.loginToggle=null,this.loginBox=null,this.openOverlay=this.openOverlay.bind(this),this.closeOverlay=this.closeOverlay.bind(this),this.toggleOverlay=this.toggleOverlay.bind(this),this.toggleSearch=this.toggleSearch.bind(this),this.toggleLogin=this.toggleLogin.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).SITE_HEADER_CORE,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLSiteHeaderHarmonised=n};var e=l.prototype;return e.init=function(){this.languageSelector=c(this.languageLinkSelector),this.languageListOverlay=c(this.languageListOverlaySelector),this.close=c(this.closeOverlaySelector),this.focusTrap=w(this.languageListOverlay,{onDeactivate:this.closeOverlay}),this.languageSelector&&this.languageSelector.addEventListener("click",this.toggleOverlay),this.close&&this.close.addEventListener("click",this.toggleOverlay),this.searchToggle=c(this.searchToggleSelector),this.searchForm=c(this.searchFormSelector),this.searchToggle&&this.searchToggle.addEventListener("click",this.toggleSearch),this.loginToggle=c(this.loginToggleSelector),this.loginBox=c(this.loginBoxSelector),this.loginToggle&&this.loginToggle.addEventListener("click",this.toggleLogin)},e.destroy=function(){this.languageSelector&&this.languageSelector.removeEventListener("click",this.toggleOverlay),this.focusTrap&&this.focusTrap.deactivate(),this.close&&this.close.removeEventListener("click",this.toggleOverlay),this.searchToggle&&this.searchToggle.removeEventListener("click",this.toggleSearch),this.loginToggle&&this.loginToggle.removeEventListener("click",this.toggleLogin)},e.openOverlay=function(){this.languageListOverlay.hidden=!1,this.languageListOverlay.setAttribute("aria-modal","true"),this.languageSelector.setAttribute("aria-expanded","true")},e.closeOverlay=function(){this.languageListOverlay.hidden=!0,this.languageListOverlay.removeAttribute("aria-modal"),this.languageSelector.setAttribute("aria-expanded","false")},e.toggleOverlay=function(e){this.languageListOverlay&&this.focusTrap&&(e.preventDefault(),this.languageListOverlay.hasAttribute("hidden")?(this.openOverlay(),this.focusTrap.activate()):this.focusTrap.deactivate())},e.toggleSearch=function(e){if(this.searchForm){e.preventDefault();var t="true"===this.searchToggle.getAttribute("aria-expanded");this.loginToggle&&"true"===this.loginToggle.getAttribute("aria-expanded")&&this.toggleLogin(e),this.searchToggle.setAttribute("aria-expanded",t?"false":"true"),t?this.searchForm.classList.remove("ecl-site-header-harmonised__search--active"):this.searchForm.classList.add("ecl-site-header-harmonised__search--active")}},e.toggleLogin=function(e){if(this.loginBox){e.preventDefault();var t="true"===this.loginToggle.getAttribute("aria-expanded");this.searchToggle&&"true"===this.searchToggle.getAttribute("aria-expanded")&&this.toggleSearch(e),this.loginToggle.setAttribute("aria-expanded",t?"false":"true"),t?this.loginBox.classList.remove("ecl-site-header-harmonised__login-box--active"):this.loginBox.classList.add("ecl-site-header-harmonised__login-box--active")}},l}(),R=function(){function l(e,t){var i=void 0===t?{}:t,n=i.languageLinkSelector,l=void 0===n?"[data-ecl-language-selector]":n,s=i.languageListOverlaySelector,a=void 0===s?"[data-ecl-language-list-overlay]":s,o=i.closeOverlaySelector,r=void 0===o?"[data-ecl-language-list-close]":o,c=i.searchToggleSelector,h=void 0===c?"[data-ecl-search-toggle]":c,d=i.searchFormSelector,u=void 0===d?"[data-ecl-search-form]":d,g=i.loginToggleSelector,v=void 0===g?"[data-ecl-login-toggle]":g,f=i.loginBoxSelector,p=void 0===f?"[data-ecl-login-box]":f;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.languageLinkSelector=l,this.languageListOverlaySelector=a,this.closeOverlaySelector=r,this.searchToggleSelector=h,this.searchFormSelector=u,this.loginToggleSelector=v,this.loginBoxSelector=p,this.languageSelector=null,this.languageListOverlay=null,this.close=null,this.focusTrap=null,this.searchToggle=null,this.searchForm=null,this.loginToggle=null,this.loginBox=null,this.openOverlay=this.openOverlay.bind(this),this.closeOverlay=this.closeOverlay.bind(this),this.toggleOverlay=this.toggleOverlay.bind(this),this.toggleSearch=this.toggleSearch.bind(this),this.toggleLogin=this.toggleLogin.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).SITE_HEADER_CORE,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLSiteHeaderStandardised=n};var e=l.prototype;return e.init=function(){this.languageSelector=c(this.languageLinkSelector),this.languageListOverlay=c(this.languageListOverlaySelector),this.close=c(this.closeOverlaySelector),this.focusTrap=w(this.languageListOverlay,{onDeactivate:this.closeOverlay}),this.languageSelector&&this.languageSelector.addEventListener("click",this.toggleOverlay),this.close&&this.close.addEventListener("click",this.toggleOverlay),this.searchToggle=c(this.searchToggleSelector),this.searchForm=c(this.searchFormSelector),this.searchToggle&&this.searchToggle.addEventListener("click",this.toggleSearch),this.loginToggle=c(this.loginToggleSelector),this.loginBox=c(this.loginBoxSelector),this.loginToggle&&this.loginToggle.addEventListener("click",this.toggleLogin)},e.destroy=function(){this.languageSelector&&this.languageSelector.removeEventListener("click",this.toggleOverlay),this.focusTrap&&this.focusTrap.deactivate(),this.close&&this.close.removeEventListener("click",this.toggleOverlay),this.searchToggle&&this.searchToggle.removeEventListener("click",this.toggleSearch),this.loginToggle&&this.loginToggle.removeEventListener("click",this.toggleLogin)},e.openOverlay=function(){this.languageListOverlay.hidden=!1,this.languageListOverlay.setAttribute("aria-modal","true"),this.languageSelector.setAttribute("aria-expanded","true")},e.closeOverlay=function(){this.languageListOverlay.hidden=!0,this.languageListOverlay.removeAttribute("aria-modal"),this.languageSelector.setAttribute("aria-expanded","false")},e.toggleOverlay=function(e){this.languageListOverlay&&this.focusTrap&&(e.preventDefault(),this.languageListOverlay.hasAttribute("hidden")?(this.openOverlay(),this.focusTrap.activate()):this.focusTrap.deactivate())},e.toggleSearch=function(e){if(this.searchForm){e.preventDefault();var t="true"===this.searchToggle.getAttribute("aria-expanded");this.loginToggle&&"true"===this.loginToggle.getAttribute("aria-expanded")&&this.toggleLogin(e),this.searchToggle.setAttribute("aria-expanded",t?"false":"true"),t?this.searchForm.classList.remove("ecl-site-header-standardised__search--active"):this.searchForm.classList.add("ecl-site-header-standardised__search--active")}},e.toggleLogin=function(e){if(this.loginBox){e.preventDefault();var t="true"===this.loginToggle.getAttribute("aria-expanded");this.searchToggle&&"true"===this.searchToggle.getAttribute("aria-expanded")&&this.toggleSearch(e),this.loginToggle.setAttribute("aria-expanded",t?"false":"true"),t?this.loginBox.classList.remove("ecl-site-header-standardised__login-box--active"):this.loginBox.classList.add("ecl-site-header-standardised__login-box--active")}},l}(),z=function(){function l(e,t){var i=void 0===t?{}:t,n=i.buttonSelector,l=void 0===n?"[data-ecl-timeline-button]":n,s=i.labelSelector,a=void 0===s?"[data-ecl-label]":s,o=i.labelExpanded,r=void 0===o?"data-ecl-label-expanded":o,c=i.labelCollapsed,h=void 0===c?"data-ecl-label-collapsed":c,d=i.attachClickListener,u=void 0===d||d;if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");this.element=e,this.buttonSelector=l,this.labelSelector=a,this.labelExpanded=r,this.labelCollapsed=h,this.attachClickListener=u,this.button=null,this.label=null,this.handleClickOnButton=this.handleClickOnButton.bind(this)}l.autoInit=function(e,t){var i=(void 0===t?{}:t).TIMELINE2,n=new l(e,void 0===i?{}:i);return n.init(),e.ECLTimeline2=n};var e=l.prototype;return e.init=function(){this.button=c(this.buttonSelector,this.element),this.label=c(this.labelSelector,this.element),this.attachClickListener&&this.button&&this.button.addEventListener("click",this.handleClickOnButton)},e.destroy=function(){this.attachClickListener&&this.button&&this.button.removeEventListener("click",this.handleClickOnButton)},e.handleClickOnButton=function(){var e="true"===this.button.getAttribute("aria-expanded");return this.button.setAttribute("aria-expanded",e?"false":"true"),e?(this.element.removeAttribute("data-ecl-timeline-expanded"),this.button.blur(),this.button.focus()):this.element.setAttribute("data-ecl-timeline-expanded","true"),this.label&&!e&&this.button.hasAttribute(this.labelExpanded)?this.label.innerHTML=this.button.getAttribute(this.labelExpanded):this.label&&e&&this.button.hasAttribute(this.labelCollapsed)&&(this.label.innerHTML=this.button.getAttribute(this.labelCollapsed)),this},l}();return e.Accordion2=t,e.Breadcrumb=i,e.BreadcrumbCore=n,e.BreadcrumbHarmonised=l,e.BreadcrumbStandardised=s,e.ContextualNavigation=a,e.Expandable=r,e.FileDownload=h,e.Gallery=A,e.InpageNavigation=M,e.Message=D,e.SiteHeader=F,e.SiteHeaderCore=P,e.SiteHeaderHarmonised=H,e.SiteHeaderStandardised=R,e.Timeline2=z,e.autoInit=function(e){var t=void 0===e?{}:e,i=t.root,n=void 0===i?document:i,l=function(e,t){if(null==e)return{};var i,n,l={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],0<=t.indexOf(i)||(l[i]=e[i]);return l}(t,["root"]);if(!ECL)throw new TypeError("Called autoInit but ECL is not present");var s=[];return o("[data-ecl-auto-init]",n).filter(function(e){return"true"!==e.getAttribute("data-ecl-auto-initialized")}).forEach(function(e){var t=e.getAttribute("data-ecl-auto-init");if(!t)throw new TypeError("(ecl-auto-init) "+t+" data-ecl-auto-init is empty");var i=ECL[t];if("function"!=typeof i)throw new TypeError("(ecl-auto-init) Could not find '"+t+"'");if("function"!=typeof i.autoInit)throw new TypeError("(ecl-auto-init) Could not find autoInit for '"+t+"'");var n=i.autoInit(e,l);s.push(n),e.setAttribute("data-ecl-auto-initialized","true")}),s},e}({});
